# 单例模式

**定义: 保证一个类只有一个实例, 并提供一个访问它的全局访问点.**

## 简单单例模式

``` js

var Singleton = function (name) {
    this.name = name;
    this.instance = null;
}

Singleton.prototype.getName = function () {
    alert(this.name);
}

Singleton.getInstance = function (name) {
    if ( !this.instance ) {
        this.instance = new Singleton(name);
    }
}

```

## 透明单例模式

``` js
var CreateDiv = (function () {
    var instance;

    var CreateDiv = function (html) {
        if (instance) {
            return instance;
        }
        this.html = html;
        this.init();
        return instance = this;
    }
    CreateDiv.prototype.init = function () {
        // ... some code
    }
    return CreateDiv;
})();

```

## 代理单例模式

``` js
var CreateDiv = function (html) {
    this.html = html;
    this.init();
}

CreateDiv.prototype.init = function () {
    // ... some code
}

// 代理
var ProxySingletonCreateDiv = (function () {
    var instance ;
    return function (html) {
        if (!instance) {
            instance = new Creatediv(html);
        }
        return instance;
    }
})();
```

## 惰性单例

指只有在需要单例对象的时候才会去创建单例.

``` js
var getSingle = function (fn) {
    var result;
    return function () {
        return result || (result = fn.apply(this, argument));
    }
}

var createDiv = function () {
    let div;
    // .. some code

    return div
}

var createSingleDiv = getSingle(createDiv);

document.getElementById('button').onclick = function () {
    var div = createSingleDiv();
};
```
